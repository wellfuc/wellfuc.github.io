{% extends "_layout.html" %}
{% block content %}
  <div class="header">
    <div>
      <h1>Apps</h1>
      <p class="muted">Manage the application catalog.</p>
    </div>
    <a class="button" href="{{ request.scope.root_path }}/admin/apps/new">New app</a>
  </div>
  <div class="card">
    <table class="table">
      <thead>
        <tr><th>Name</th><th>Type</th><th>Status</th><th>Updated</th><th></th></tr>
      </thead>
      <tbody>
        {% for app in apps %}
          <tr>
            <td>{{ app.name }}</td>
            <td>{{ app.type }}</td>
            <td>{{ app.status }}</td>
            <td>{{ app.updated_at.strftime('%Y-%m-%d') }}</td>
            <td><a class="button secondary" href="{{ request.scope.root_path }}/admin/apps/{{ app.id }}">Edit</a></td>
          </tr>
        {% else %}
          <tr><td colspan="5">No apps yet.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
