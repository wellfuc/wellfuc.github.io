{% extends "_layout.html" %}
{% block content %}
  <div class="header">
    <div>
      <h1>{{ 'Edit announcement' if announcement else 'New announcement' }}</h1>
      <p class="muted">Keep employees informed and aligned.</p>
    </div>
  </div>
  <form class="card" method="post">
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}" />
    <label>Title
      <input class="input" name="title" value="{{ announcement.title if announcement else '' }}" required />
    </label>
    <label>Body
      <textarea class="textarea" name="body">{{ announcement.body if announcement else '' }}</textarea>
    </label>
    <div class="form-row">
      <label>Starts at
        <input class="input" type="datetime-local" name="starts_at" value="{{ announcement.starts_at.strftime('%Y-%m-%dT%H:%M') if announcement and announcement.starts_at else '' }}" />
      </label>
      <label>Ends at
        <input class="input" type="datetime-local" name="ends_at" value="{{ announcement.ends_at.strftime('%Y-%m-%dT%H:%M') if announcement and announcement.ends_at else '' }}" />
      </label>
      <label>Priority
        <input class="input" type="number" name="priority" value="{{ announcement.priority if announcement else 0 }}" />
      </label>
    </div>
    <button class="button" type="submit">Save</button>
  </form>
{% endblock %}
